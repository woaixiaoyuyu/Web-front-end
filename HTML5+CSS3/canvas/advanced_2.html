<!DOCTYPE html>
<html lang="en">
<style>
    div{
        height: 200px;
    }
</style>
<head>
    <meta charset="UTF-8">
    <title>Advanced</title>
</head>
<body>
<canvas id="canvas" width="384" height="240"></canvas>
<div id="color"></div>
<script>
    var img = new Image();
    img.src = 'images/xiaoyuyu.jpg';
    var canvas = document.getElementById('canvas');
    var context = canvas.getContext('2d');
    img.onload = function () {
        context.drawImage(img,0,0);
        context.style.display = 'none';
    };
    var color = document.getElementById('color');
    function pick(event) {
        var x = event.layerX;
        var y = event.layerY;
        var pix = context.getImageData(x,y,1,1,);
        var data = pix.data;
        var rgba = 'rgba('+data[0]+','+data[1]+','+data[2]+','+(data[3]/255)+')';
        color.style.background = rgba;
        color.textContext = rgba;
    }
    canvas.addEventListener('mousemove',pick);
</script>
</body>
</html>